(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{226:function(e,t,a){},228:function(e,t,a){},230:function(e,t,a){},233:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(68),s=a.n(i),c=a(5),o=a(6),l=a(8),u=a(7),m=a(9),d=(a(76),a(78),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return"".concat(e.toString().split(".")[0],".").concat(e.toString().split(".")[1].slice(0,t))}),p=function(e){return["","https://image.ibb.co/ideMDA/L1.png","https://image.ibb.co/jFtgDA/L2.png","https://image.ibb.co/idRe0q/L3.png","https://image.ibb.co/jsoRfq/L4.png","https://image.ibb.co/cwviRV/L5.png","https://image.ibb.co/iRMe0q/L6.png","https://image.ibb.co/i9bq6V/L7.png","https://image.ibb.co/cPXK0q/L8.png","https://image.ibb.co/mZvHmV/L9.png","https://image.ibb.co/dzGe0q/L10.png"][e]},h=function(e){return r.a.createElement("div",{className:"card"},r.a.createElement("div",null,r.a.createElement("div",{className:"card-top"},(t=e.name).split("")[0].toUpperCase()+t.split("").slice(1).map(function(e){return e===e.toUpperCase()?" ".concat(e):e}).join("")),r.a.createElement("div",{className:"card-context"},e.children),r.a.createElement("div",{className:"card-sub"},e.text," ")));var t},b="https://my.callofduty.com/api/papi-client/crm/cod/v2/title/bo4/platform/xbl/gamer/",f=function(e){return e.json()},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"profile";fetch("http://localhost:5000/api").then(function(e){return console.log(e)});var a=t.match("matches")?"".concat(b).concat(e,"/").concat(t,"/mp/start/0/end/0/details"):"".concat(b).concat(e,"/").concat(t);return Promise.resolve(fetch(a).then(f))},v=(a(80),function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("i",{id:"loading",className:"fas fa-spinner"}),r.a.createElement("div",null,"Loading...")))}),E=(a(82),a(44)),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).refreshData=function(){a.setState({name:a.props.name,data:a.props.data,dates:a.props.dates,type:a.props.type})},a.normalizeDate=function(e){return e.map(function(e){return"".concat(new Date(1e3*e).toLocaleDateString("en-US")).concat(new Date(1e3*e).getHours(),":").concat(new Date(1e3*e).getMinutes())})},a.createDataForGraph=function(e,t,n){for(var r=a.normalizeDate(n),i=[],s=a.state.data?a.state.data.reduce(function(e,t){return e+t}):0,c=0;c<20;c++)i.push(s/20);return{labels:r.reverse(),datasets:[{type:"line",fill:!1,label:"Average",backgroundColor:"rgba(255, 255, 255,0.5)",borderColor:"rgba(255, 255, 255,0.5)",data:i,steppedLine:!1,lineTension:.6,pointRadius:0,pointHitRadius:10,borderDash:[3]},{type:"bar",fill:!1,borderDash:[],label:e.toUpperCase(),backgroundColor:"rgba(255,140,0)",borderColor:"rgb(255,140,0)",data:t,lineTension:.1,pointRadius:1,pointHitRadius:10}]}},a.getBar=function(e,t,n){var i=a.createDataForGraph(e,t,n);return r.a.createElement(E.a,{height:400,width:400,data:i})},a.getPie=function(e,t,n){var i=a.createDataForPie(e,t,n);return r.a.createElement(E.b,{height:250,width:200,data:i,redraw:!0,options:{maintainAspectRatio:!1}})},a.createDataForPie=function(e,t,a){return{labels:[t.action,a.action],datasets:[{data:[t.result,a.result],backgroundColor:["#b17a1a","#6d4c0c"],hoverBackgroundColor:["#7e5812","#4a310d"]}]}},a.state={name:"",data:[],dates:[],type:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.refreshData()}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.name,n=e.dates;return r.a.createElement("div",null,this.state.type?this.state.type.match("line")?this.getBar(a,t,n):this.getPie(a,t,n):r.a.createElement(v,null))}}]),t}(r.a.Component),j=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).refreshData=function(){var e=a.props.match.params.name;g(e,"matches").then(function(e){var t=e.data;a.setState({data:{killList:{data:t.matches.map(function(e){return e.playerStats.kills}),name:"kill"},ekiaList:{data:t.matches.map(function(e){return e.playerStats.ekia}),name:"ekia"},deathList:{data:t.matches.map(function(e){return e.playerStats.deaths}),name:"death"},assistsList:{data:t.matches.map(function(e){return e.playerStats.assists}),name:"assists"},ekiadRatioList:{data:t.matches.map(function(e){return e.playerStats.ekiadRatio}),name:"ekiadRatio"}},times:{data:t.matches.map(function(e){return e.utcStartSeconds})}})})},a.state={username:"",data:[],times:[],type:"",size:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillUpdate",value:function(e){this.props.data!==e.data&&this.refreshData()}},{key:"componentDidMount",value:function(){console.log("component mounted",this.state.size),this.refreshData()}},{key:"render",value:function(){var e=this;window.addEventListener("resize",function(){return e.setState({size:window.innerWidth})});var t=Object.keys(this.state.data).map(function(t){return e.state.data[t]}),a=Object.keys(this.state.times).map(function(t){return e.state.times[t]})[0];return r.a.createElement("div",{className:"graph-container"},t.map(function(t,n){return r.a.createElement("div",{key:n},r.a.createElement(y,{name:t.name,dates:a,data:t.data,type:"line",size:e.state.size}))}))}}]),t}(r.a.Component),k=(a(226),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getData=function(e){g(e,"profile").then(function(e){var t=e.data;a.setState({allData:Object.keys(t.mp.lifetime.all).map(function(e){return Object.assign({action:e,result:t.mp.lifetime.all[e]})})})})},a.pieFactory=function(e,t){var n=a.state.allData,i=a.hardFilter(n,e),s=a.hardFilter(n,t);return r.a.createElement("div",{className:"middel"},r.a.createElement("div",{className:"card-wrapper"},r.a.createElement(h,{name:"".concat(i.action.toUpperCase(),"/").concat(s.action.toUpperCase()),text:"Ratio ".concat(d(i.result/s.result*100),"%")},r.a.createElement(y,{name:"test",data:i,dates:s,type:"pie",size:500}))))},a.cardFactory=function(e){var t=a.state.allData,n=a.hardFilter(t,e);return r.a.createElement(h,{name:n.action},n.result%1!==0?d(n.result):n.result)},a.hardFilter=function(e,t){return e.filter(function(e){return e.action.split(" ").join("")===t})[0]},a.state={allData:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getData(this.props.name)}},{key:"render",value:function(){var e=this,t=null!==this.state.allData?this.state.allData:[],a=["scoreCore","scorePerGame","scorePerMinute","kills","damagePerGame","damagePerMinute","healsPerGame"],n=[{obj1:"ekia",obj2:"deaths"},{obj1:"wins",obj2:"losses"},{obj1:"kills",obj2:"deaths"},{obj1:"statsHeadshot",obj2:"kills"},{obj1:"hits",obj2:"totalShots"},{obj1:"headshots",obj2:"hits"},{obj1:"hits",obj2:"misses"}];return r.a.createElement("div",null,t.length>0?r.a.createElement("div",{className:"cards-wrapper"},n.map(function(t,a){return r.a.createElement("div",{key:a},e.pieFactory(t.obj1,t.obj2))}),a.map(function(t,a){return r.a.createElement("div",{key:a},e.cardFactory(t))})):r.a.createElement(v,null))}}]),t}(r.a.Component)),D=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getData=function(){var e=a.props.location.state.data,t=e.username,n=e.mp,r=n.level,i=n.prestige,s=e.mp.lifetime.all;a.setState({allData:Object.keys(s).map(function(e){return Object.assign({action:e,result:s[e]})}),playerStats:{username:t,level:r,prestige:i},page:"Team Deathmatch"})},a.Top=function(){var e={backgroundImage:"url(".concat(p(a.state.playerStats.prestige),")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"};return r.a.createElement("div",{className:"top",style:e},r.a.createElement("div",{className:"left"},r.a.createElement("div",null,a.state.playerStats.username)),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"right-sub"},"Level: ",a.state.playerStats.level),r.a.createElement("div",{className:"right-sub"},"Prestige: ",a.state.playerStats.prestige)))},a.pagesLabels=function(){var e={marginLeft:"1px",border:"#fc6621 solid thin",borderRadius:"10px 10px 0 0",borderBottom:"#fc6621 solid thin",color:"#553400",backgroundColor:"#1b1b1b",shdowBox:"10px 10px 10px white",padding:"10px"},t={backgroundColor:"#101010",padding:"10px",marginLeft:"1px",border:"#fc6621 solid thin",borderRadius:"10px 10px 0 0",borderBottom:"none"};return r.a.createElement("div",{className:"page-labels"},r.a.createElement("div",{style:a.state.page.match("Team Deathmatch")?t:e,onClick:function(){return a.setState({page:"Team Deathmatch"})}},"Life time"),r.a.createElement("div",{style:a.state.page.match("Team Deathmatch")?e:t,onClick:function(){return a.setState({page:"BlackOut"})}},"Weekly"))},a.pages=function(e){switch(e){case"BlackOut":return r.a.createElement(j,{type:"mp",playerName:a.state.playerStats.username});default:return r.a.createElement(k,{name:a.state.playerStats.username})}},console.log(e),a.state={allData:null,playerStats:{username:"",level:0,prestige:0},page:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=null!==this.state.allData?this.state.allData:[];return r.a.createElement("div",{className:"container"},r.a.createElement("div",null,this.Top(),e.length>0?r.a.createElement("div",null,this.pagesLabels(),r.a.createElement("div",{className:"pagination-border"},this.pages(this.state.page))):r.a.createElement(v,null)))}}]),t}(r.a.Component),O=(a(228),function(){return r.a.createElement("img",{className:"logo",src:"https://image.ibb.co/inYpYA/07ef4a2a-37ba-4f4d-8be6-1be1b61bc102.png",alt:"logo"})}),S=(a(230),a(234)),L=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).validateUsername=function(e){g(e).then(function(e){a.setState({validate:"success"===e.status,data:e.data})})},a.state={validate:null,query:"",data:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login"},this.state.isLoading?r.a.createElement(v,null):r.a.createElement("div",null),r.a.createElement("input",{onChange:function(t){e.setState({query:t.target.value},function(){return e.validateUsername(e.state.query)})}}),r.a.createElement("div",{hidden:null===this.state.validate||!1===this.state.validate},r.a.createElement(S.a,{to:{pathname:"/user/".concat(this.state.query),state:{data:this.state.data}}},r.a.createElement("button",null,"Enter"))))}}]),t}(r.a.Component),w=a(236),C=a(235),N=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).setAutoraztion=function(e,t){e&&a.setState({isAuthorized:!0,username:t})},a.state={username:"",list:[],com:!1,isAuthorized:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement(w.a,null,r.a.createElement("div",null,r.a.createElement(C.a,{exact:!0,path:"/",component:L}),r.a.createElement(C.a,{path:"/user/:name",render:function(e){return r.a.createElement(D,e)}}),r.a.createElement(C.a,{path:"/lifetime/:neme",component:k}))))}}]),t}(r.a.Component);s.a.render(r.a.createElement(N,null),document.getElementById("root"))},71:function(e,t,a){e.exports=a(233)},76:function(e,t,a){},78:function(e,t,a){},80:function(e,t,a){},82:function(e,t,a){}},[[71,2,1]]]);
//# sourceMappingURL=main.9ccc8c68.chunk.js.map