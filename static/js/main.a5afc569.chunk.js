(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){},106:function(e,t,a){},108:function(e,t,a){},248:function(e,t,a){},250:function(e,t,a){},252:function(e,t,a){},256:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(75),s=a.n(i),c=a(7),o=a(8),l=a(10),u=a(9),m=a(11),d=(a(41),function(){return r.a.createElement("img",{className:"logo",src:"https://image.ibb.co/inYpYA/07ef4a2a-37ba-4f4d-8be6-1be1b61bc102.png",alt:"logo"})}),p="https://my.callofduty.com/api/papi-client/crm/cod/v2/title/bo4/platform/xbl/gamer/",h=function(e){return e.json()},f=function(e){return fetch(e).then(h)},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"profile",a=t.match("matches")?"".concat(p).concat(e,"/").concat(t,"/mp/start/0/end/0/details"):"".concat(p).concat(e,"/").concat(t);return Promise.resolve(f(a))},v=function(e){return console.log("active"),Promise.all(e.map(function(e){return f("".concat(p).concat(e,"/profile"))}))},g=(a(85),a(101)),E=a(6),y=function(e){return e.toString().includes(".")?"".concat(e.toString().split(".")[0],".").concat(e.toString().split(".")[1].slice(0,3)):e},k=function(e){return["","https://image.ibb.co/ideMDA/L1.png","https://image.ibb.co/jFtgDA/L2.png","https://image.ibb.co/idRe0q/L3.png","https://image.ibb.co/jsoRfq/L4.png","https://image.ibb.co/cwviRV/L5.png","https://image.ibb.co/iRMe0q/L6.png","https://image.ibb.co/i9bq6V/L7.png","https://image.ibb.co/cPXK0q/L8.png","https://image.ibb.co/mZvHmV/L9.png","https://image.ibb.co/dzGe0q/L10.png"][e]},j=function(e){return e.split("")[0].toUpperCase()+e.split("").slice(1).map(function(e){return e===e.toUpperCase()?" ".concat(e):e}).join("")},O=function(e){return e.map(function(e){return"".concat(new Date(1e3*e).toLocaleDateString("en-US")," ").concat(new Date(1e3*e).getHours(),":").concat(new Date(1e3*e).getMinutes())})},C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).validateUsername=function(e){b(e).then(function(e){a.setState({validate:"success"===e.status,data:e.data,res:e.status})})},a.state={validate:!1,query:"",data:[],res:"",options:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;E.database().ref("/users/").on("value",function(t){var a=Object.keys(t.val()).map(function(e){return Object.assign({name:e})});e.setState({options:a.map(function(e){return e.name})})})}},{key:"render",value:function(){var e=this,t=this.state.options;return r.a.createElement("div",{className:"login"},r.a.createElement("div",null,t.length>0?t.map(function(t,a){return r.a.createElement("div",{key:a,onClick:function(){e.setState({query:t},function(){return e.validateUsername(e.state.query)})}},t)}):r.a.createElement("div",null,"No User in list")),r.a.createElement("div",{hidden:!this.state.validate},r.a.createElement(g.a,{to:{pathname:"/".concat(this.state.query,"/lifetime"),state:{data:this.state.data}}},"Click Her")))}}]),t}(r.a.Component),w=a(259),N=a(258),S=(a(104),a(106),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).changePage=function(e){var t=a.state.pages;t.forEach(function(e){return e.isClicked=!1});var n=t.indexOf(e);t[n].isClicked=!0,a.setState({pages:t},function(){return console.log(a.state)})},a.state={pages:[{name:"",isClicked:!1}]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({pages:[{name:"LifeTime",isClicked:!0},{name:"Weekly",isClicked:!1},{name:"TeamMates",isClicked:!1}]})}},{key:"render",value:function(){var e=this,t={marginLeft:"1px",border:"#fc6621 solid thin",borderRadius:"10px 10px 0 0",borderBottom:"#fc6621 solid thin",backgroundColor:"#1b1b1b",shdowBox:"10px 10px 10px white",padding:"10px"},a={backgroundColor:"#101010",padding:"10px",marginLeft:"1px",border:"#fc6621 solid thin",borderRadius:"10px 10px 0 0",borderBottom:"none"},n=this.state.pages;return r.a.createElement("div",{className:"navigation"},n.map(function(n,i){return r.a.createElement("div",{key:i},r.a.createElement("div",{style:n.isClicked?a:t,onClick:function(){return e.changePage(n)}},r.a.createElement(g.a,{style:{color:"#fc6621",textDecorationLine:"none"},to:n.name.toLowerCase()},n.name)))}),this.props.children)}}]),t}(r.a.Component)),R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).prestigeImage=function(){return{backgroundImage:"url(".concat(k(a.state.prestige),")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"}},a.state={username:"",level:0,prestige:0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.name;b(t).then(function(e){var a=e.data.username,n=e.data.mp.level,r=e.data.mp.prestige;E.database().ref("/users/".concat(t)).update({personal:{name:a,level:n,prestige:r}})}),E.database().ref("/users/".concat(t)).on("value",function(t){var a=t.val();e.setState({username:a.personal.name,level:a.personal.level,prestige:a.personal.prestige})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"top",style:this.prestigeImage()},r.a.createElement("div",{className:"info-section"},r.a.createElement("div",{className:"left"},r.a.createElement("div",null,this.state.username)),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"right-sub"},"Level: ",this.state.level),r.a.createElement("div",{className:"right-sub"},"Prestige: ",this.state.prestige))),r.a.createElement(S,null))}}]),t}(r.a.Component),D=(a(108),function(e){return r.a.createElement("div",{className:"card"},r.a.createElement("div",null,r.a.createElement("div",{className:"card-top"},j(e.name)),r.a.createElement("div",{className:"card-context"},e.children),r.a.createElement("div",{className:"card-sub"},e.text," ")))}),L=a(29),M=(a(248),function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("i",{id:"loading",className:"fas fa-spinner"}),r.a.createElement("div",null,"Loading...")))}),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).refreshData=function(){a.setState({name:a.props.name,data:a.props.data,dates:a.props.dates,type:a.props.type})},a.createDataForGraph=function(e,t,a){return{labels:O(a).reverse(),datasets:[{type:"line",fill:!1,label:"Average",backgroundColor:"rgba(255, 255, 255,0.5)",borderColor:"rgba(255, 255, 255,0.5)",data:[1],steppedLine:!1,lineTension:.6,pointRadius:0,pointHitRadius:10,borderDash:[3]},{type:"bar",fill:!1,borderDash:[],label:e.toUpperCase(),backgroundColor:"rgba(255,140,0)",borderColor:"rgb(255,140,0)",data:t,lineTension:.1,pointRadius:1,pointHitRadius:10}]}},a.updateDimensions=function(){a.setState({width:window.innerWidth}),a.forceUpdate()},a.getBar=function(e,t,n,i){var s=a.createDataForGraph(e,t,n);return r.a.createElement(L.a,{height:400,width:i-100,data:s,redraw:!0})},a.getPie=function(e,t,n){var i=a.createDataForPie(e,t,n);return r.a.createElement(L.b,{height:250,width:200,data:i,redraw:!0,options:{maintainAspectRatio:!1}})},a.createDataForPie=function(e,t,a){return{labels:[t.action,a.action],datasets:[{data:[t.result,a.result],backgroundColor:["#b17a1a","#6d4c0c"],hoverBackgroundColor:["#7e5812","#4a310d"]}]}},a.state={name:"",data:[],dates:[],type:"",width:window.innerWidth},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions),this.refreshData()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"componentWillMount",value:function(){this.updateDimensions()}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.name,n=e.dates;return r.a.createElement("div",null,this.state.type?this.state.type.match("line")?this.getBar(a,t,n,this.state.width):this.getPie(a,t,n):r.a.createElement(M,null))}}]),t}(r.a.Component),q=(a(250),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).pieFactory=function(e,t){var n=a.state.allData,i=a.hardFilter(n,e),s=a.hardFilter(n,t);return r.a.createElement("div",{className:"middel"},r.a.createElement("div",{className:"card-wrapper"},r.a.createElement(D,{name:"".concat(i.action.toUpperCase(),"/").concat(s.action.toUpperCase()),text:"Ratio ".concat(y(i.result/s.result*100),"%")},r.a.createElement(x,{name:"test",data:i,dates:s,type:"pie",size:500}))))},a.cardFactory=function(e){var t=a.state.allData,n=a.hardFilter(t,e);return r.a.createElement(D,{name:n.action},n.result%1!==0?y(n.result):n.result)},a.hardFilter=function(e,t){return e.filter(function(e){return e.action.split(" ").join("")===t})[0]},a.state={allData:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.name;b(t).then(function(a){var n=a.data.mp.lifetime.all;E.database().ref("/users/".concat(t)).update({data:Object.keys(n).map(function(e){return Object.assign({action:e,result:n[e]})})},function(){return E.database().ref("/users/".concat(t)).on("value",function(t){console.log(t.val()),e.setState({allData:t.val().data})})})})}},{key:"render",value:function(){var e=this,t=null!==this.state.allData?this.state.allData:[],a=["scoreCore","scorePerGame","scorePerMinute","kills","damagePerGame","damagePerMinute","healsPerGame"],n=[{obj1:"ekia",obj2:"deaths"},{obj1:"wins",obj2:"losses"},{obj1:"kills",obj2:"deaths"},{obj1:"statsHeadshot",obj2:"kills"},{obj1:"hits",obj2:"totalShots"},{obj1:"headshots",obj2:"hits"},{obj1:"hits",obj2:"misses"}];return r.a.createElement("div",{className:"container"},t.length>0?r.a.createElement("div",{className:"cards-wrapper"},n.map(function(t,a){return r.a.createElement("div",{key:a},e.pieFactory(t.obj1,t.obj2))}),a.map(function(t,a){return r.a.createElement("div",{key:a},e.cardFactory(t))})):r.a.createElement(M,null))}}]),t}(r.a.Component)),z=(a(252),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).arraysEqual=function(e,t){return Object.values(t.concat(e).reduce(function(e,t){return e[t.date]=t,e},{}))},a.refreshData=function(){var e=a.props.match.params.name;b(e,"matches").then(function(e){e.data})},a.state={data:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.name;b(t,"matches").then(function(a){var n=a.data.matches.map(function(e){return Object.assign({assists:e.playerStats.assists,date:e.utcStartSeconds,ekia:e.playerStats.ekia,ekiadRatio:e.playerStats.ekiadRatio,kills:e.playerStats.kills})});E.database().ref("/users/".concat(t,"/weekly")).on("value",function(a){var r=a.val();null==r&&E.database().ref("/users/".concat(t)).update({weekly:n});var i=e.arraysEqual(r,n);e.setState({data:i})})})}},{key:"componentWillUpdate",value:function(e){this.props,e.data}},{key:"render",value:function(){var e=Object.assign({kills:this.state.data.map(function(e){return e.kills}),ekia:this.state.data.map(function(e){return e.ekia}),assists:this.state.data.map(function(e){return e.assists}),ekiadRatio:this.state.data.map(function(e){return e.ekiadRatio})}),t=Object.keys(e),a=this.state.data.map(function(e){return e.date});return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"graph-container"},e.kills.length>0?Object.keys(e).map(function(n,i){return r.a.createElement("div",{key:i},r.a.createElement(x,{name:t[i],dates:a,data:e[n],type:"line"}))}):r.a.createElement(M,null)))}}]),t}(r.a.Component)),F=(a(74),function(e,t){return e>t?"green":t>e?"red":"white"}),P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).search=function(){""!==a.state.query&&v([a.props.match.params.name,a.state.query]).then(function(e){"success"===e[1].status?a.setState({isSuccess:!0,data:Object.keys(e[1].data.mp.lifetime.all).map(function(t){return Object.assign({action:t,friedResult:e[1].data.mp.lifetime.all[t],friendName:e[1].data.username,myResult:e[0].data.mp.lifetime.all[t],myName:e[0].data.username})})},function(){a.setState({isLoading:!0})}):a.setState({isSuccess:!1})})},a.state={query:"",data:[],isLoading:!1,isSuccess:null,size:5},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;setInterval(function(){e.setState({size:e.state.size+1})},1e4)}},{key:"render",value:function(){var e=this,t=this.state.data.filter(function(e){return 0!==e.myResult&&0!==e.friedResult&&e.myResult<1e3&&e.friedResult<1e3&&e.myResult>1&&e.friedResult>1}),a={labels:t.map(function(e){return e.action}).slice(this.state.size-5,this.state.size),datasets:[{fill:!1,label:this.state.data.myName,backgroundColor:"rgba(255, 255, 255,0.5)",borderColor:"rgba(255, 255, 255,0.5)",data:t.map(function(e){return e.friedResult}).slice(this.state.size-5,this.state.size),steppedLine:!1,lineTension:.6,pointRadius:0,pointHitRadius:10},{fill:!1,label:this.state.data.friendName,backgroundColor:"rgba(255,140,0)",borderColor:"rgb(255,140,0)",data:t.map(function(e){return e.myResult}).slice(this.state.size-5,this.state.size),steppedLine:!1,lineTension:.6,pointRadius:0,pointHitRadius:10}]};return r.a.createElement("div",{className:"TeamMate"},r.a.createElement("div",{className:"TeamMate-wrapper"},r.a.createElement("div",{className:"TeamMate-search"},"SearchFriend : ",r.a.createElement("input",{type:"text",onChange:function(t){e.setState({query:t.target.value})}}),r.a.createElement("button",{onClick:function(){return e.search(e.state.query)}},"Click")),null!==this.state.isSuccess?this.state.isSuccess?r.a.createElement("div",null,r.a.createElement("div",{className:"table"},this.state.isLoading?r.a.createElement("div",{className:"table-header"},r.a.createElement("div",{className:"header-item"}),r.a.createElement("div",{className:"header-item"},this.props.match.params.name," VS ",this.state.query)):r.a.createElement("div",null),r.a.createElement(L.a,{height:50,width:600,data:a,redraw:!0})),this.state.isLoading?this.state.data.map(function(e,t){return r.a.createElement("div",{className:"table-wrapper",key:t},(a=e.action,n=e.myResult,i=e.friedResult,s=e.friendName,r.a.createElement("div",{className:"table-row"},r.a.createElement("div",{className:"table-action"},j(a)),r.a.createElement("div",{className:"table-result"},Math.floor(n)),r.a.createElement("div",{className:"table-result"},Math.floor(i)),r.a.createElement("div",{className:"table-result",style:{color:F(n,i)}},"".concat(Math.floor(Math.abs(i-n)),"\n        ").concat(i-n>0?"Less":"More"," then ").concat(s)))));var a,n,i,s}):r.a.createElement("div",null,"Choose Friend")):r.a.createElement("div",null,"Invalid Username"):r.a.createElement("div",null,"Enter User name")))}}]),t}(r.a.Component),U=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d,null),r.a.createElement(w.a,{basename:"/Black-Ops-4"},r.a.createElement("div",null,r.a.createElement(N.a,{exact:!0,path:"/",render:function(){return r.a.createElement(C,null)}}),r.a.createElement(N.a,{path:"/:name/:section",render:function(e){return r.a.createElement(R,e)}}),r.a.createElement(N.a,{path:"/:name/lifetime",render:function(e){return r.a.createElement(q,e)}}),r.a.createElement(N.a,{path:"/:name/weekly",render:function(e){return r.a.createElement(z,e)}}),r.a.createElement(N.a,{path:"/:name/teammates",render:function(e){return r.a.createElement(P,e)}}))))}}]),t}(r.a.Component);E.initializeApp({apiKey:"AIzaSyAOzEkQ8vpjKbsw5mqnFFmr4qML-bVbCeI",authDomain:"call-of-duty-black-ops-4-15a24.firebaseapp.com",databaseURL:"https://call-of-duty-black-ops-4-15a24.firebaseio.com",projectId:"call-of-duty-black-ops-4-15a24",storageBucket:"call-of-duty-black-ops-4-15a24.appspot.com",messagingSenderId:"518851485397"}),s.a.render(r.a.createElement(U,null),document.getElementById("root"))},41:function(e,t,a){},74:function(e,t,a){},79:function(e,t,a){e.exports=a(256)},85:function(e,t,a){}},[[79,2,1]]]);
//# sourceMappingURL=main.a5afc569.chunk.js.map